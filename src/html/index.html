<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Swiper + GSAP slider</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.css">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    body {
      font-family: Arial, sans-serif;
      background: #fff
    }

    .entert__body {
      max-width: 100%;
      padding: 20px
    }

    .swiper {
      width: 100%;
      overflow: visible;
      margin-bottom: 40px;
      /* –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤–∏–¥–Ω–æ –±—ã–ª–æ —Ç–µ–Ω—å/–∫–∞—Ä—Ç–æ—á–∫—É */
    }

    /* aspect ratio */
    .swiper-slide {
      width: auto;
      height: auto;
      display: flex;
      justify-content: center;
      align-items: center;
      will-change: transform;
    }

    .entert__item-img {
      /* –∞–¥–∞–ø—Ç–∏–≤ */
      width: 100%;
      height: 100%;
      aspect-ratio: 383/247;
      border-radius: 10px;
      overflow: hidden;
      flex-shrink: 0;
    }

    .entert__item-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transform-origin: center center;
    }

    .swiper-button-prev,
    .swiper-button-next {
      color: #000;
      cursor: pointer;
      user-select: none
    }

    .swiper-pagination-bullet {
      background: #000;
      opacity: 0.7
    }

    .swiper-pagination-bullet-active {
      opacity: 1;
      background: #007aff
    }

    /* –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞–¥–¥–∏–Ω–≥–æ–≤ */
    .entert__body--slider {
      transition: padding 220ms ease;
      overflow: hidden;
    }

    @media (max-width:768px) {}
  </style>

</head>

<body>
  <div class="entert__body">
    <div class="swiper swiper1 entert__body--slider">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-1.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-2.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-3.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-4.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-1.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-2.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-3.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-4.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-1.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-2.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-3.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-4.png" alt=""></div>
        </div>
      </div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
    <div class="swiper swiper2 entert__body--slider">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-1.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-2.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-3.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-4.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-1.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-2.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-3.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-4.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-1.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-2.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-3.png" alt=""></div>
        </div>
        <div class="swiper-slide">
          <div class="entert__item-img"><img src="./images/entert/entert-4.png" alt=""></div>
        </div>
      </div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.js"></script>
  <script>
    // ---------------------------
    // Global state
    // ---------------------------
    let isSliding = false;    // transition ongoing flag
    let slideQueue = 0;       // queued slide actions count
    let lastNav = null;       // last navigation params {dir, speed}

    // ---------------------------
    // Swiper init
    // ---------------------------
    const swiper1 = new Swiper('.swiper1', {
      slidesPerView: 1,
      spaceBetween: 10,
      centeredSlides: false,
      centeredSlidesBounds: true,
      centerInsufficientSlides: true,
      slidesOffsetBefore: 0,
      slidesOffsetAfter: 0,
      loop: false,
      speed: 500,
      simulateTouch: true,
      watchOverflow: true,

      freeMode: {
        enabled: false,
        momentum: false,
        momentumBounce: false,
        sticky: true,
      },

      mousewheel: {
        forceToAxis: true,
        sensitivity: 1,
        releaseOnEdges: true
      },

      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },

      pagination: {
        el: '.swiper-pagination',
        clickable: true
      },

      breakpoints: {
        520: {
          slidesPerView: 2,
          spaceBetween: 20,
        },
        768: {
          slidesPerView: 3,
          spaceBetween: 20,
        },
      },

      on: {
        // ’•÷Ä’¢ transition ’Ω’Ø’Ω’æ’∏÷Ç’¥ ’ß
        slideChangeTransitionStart: function () {
          isSliding = true;
        },
        // ’•÷Ä’¢ transition ’°’æ’°÷Ä’ø’æ’∏÷Ç’¥ ’ß
        slideChangeTransitionEnd: function () {
          const swiperName = document.querySelector('.swiper1');
          const swiper_wrapper = swiperName.querySelector('.swiper-wrapper');
          const style = window.getComputedStyle(swiper_wrapper);
          const matrix = style.transform || style.webkitTransform;
          const slideWidth = swiper1.slides[0] ? swiper1.slides[0].offsetWidth : 0;
          // ’°’∫’°’∞’∏’æ ’Ø’•’ø’ù ’∂’∑’•’¨ ’∏÷Ä ’ø÷Ä’°’∂’Ω’µ’∏÷Ç’∑’∂ ’°’æ’°÷Ä’ø’æ’•÷Å
          isSliding = false;
        }
      }
    });

    const swiper2 = new Swiper('.swiper2', {
      slidesPerView: 1,
      spaceBetween: 10,
      centeredSlides: false,
      centeredSlidesBounds: true,
      centerInsufficientSlides: true,
      slidesOffsetBefore: 0,
      slidesOffsetAfter: 0,
      loop: false,
      speed: 500,
      simulateTouch: true,
      watchOverflow: true,

      freeMode: {
        enabled: false,
        momentum: false,
        momentumBounce: false,
        sticky: true,
      },

      mousewheel: {
        forceToAxis: true,
        sensitivity: 1,
        releaseOnEdges: true
      },

      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },

      pagination: {
        el: '.swiper-pagination',
        clickable: true
      },

      breakpoints: {
        520: {
          slidesPerView: 2,
          spaceBetween: 20,
        },
        768: {
          slidesPerView: 3,
          spaceBetween: 20,
        },
      },

      on: {
        // ’•÷Ä’¢ transition ’Ω’Ø’Ω’æ’∏÷Ç’¥ ’ß
        slideChangeTransitionStart: function () {
          isSliding = true;
        },

        // ’•÷Ä’¢ transition ’°’æ’°÷Ä’ø’æ’∏÷Ç’¥ ’ß
        slideChangeTransitionEnd: function () {
          const swiperName = document.querySelector('.swiper1');
          const swiper_wrapper = swiperName.querySelector('.swiper-wrapper');
          const style = window.getComputedStyle(swiper_wrapper);
          const matrix = style.transform || style.webkitTransform;
          const slideWidth = swiper2.slides[0] ? swiper2.slides[0].offsetWidth : 0;

          // ’°’∫’°’∞’∏’æ ’Ø’•’ø’ù ’∂’∑’•’¨ ’∏÷Ä ’ø÷Ä’°’∂’Ω’µ’∏÷Ç’∑’∂ ’°’æ’°÷Ä’ø’æ’•÷Å
          isSliding = false;
        }
      }
    });

    const swiperSlider = [swiper1, swiper2];

    swiperSliders.forEach(swiperSlider => {
      let isTouching = false;

      swiperSlider.el.addEventListener('touchstart', () => {
        isTouching = true;
        swiperSlider.params.freeMode.enabled = true;  // ‚úÖ ’¥’´’°÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ
      });

      swiperSlider.el.addEventListener('touchend', () => {
        isTouching = false;
        swiperSlider.params.freeMode.enabled = false; // üîá ’°’∂’ª’°’ø’∏÷Ç’¥ ’•’∂÷Ñ
      });

      swiperSlider.el.addEventListener('wheel', (e) => {
        if (e.ctrlKey || Math.abs(e.deltaX) > 0) {
          swiperSlider.params.freeMode.enabled = true;
          clearTimeout(swiperSlider._freeModeTimeout);
          swiperSlider._freeModeTimeout = setTimeout(() => {
            swiperSlider.params.freeMode.enabled = false;
          }, 400); // 0.4 ’æ’°’µ÷Ä’Ø’µ’°’∂ ’∞’•’ø’∏ ’°’∂’ª’°’ø’∏÷Ç’¥ ’•’∂÷Ñ
        }
      });
      // ---------------------------
      // Process queue ‚Äî ’Ø’ø’°÷Ä’´ 1 slide ’¥’´’°’∂’£’°’¥’´÷Å
      // ---------------------------
      function processQueue() {
        if (!lastNav) return;
        if (slideQueue <= 0) return;
        if (isSliding) return; // ’Ω’∫’°’Ω’∏÷Ç’¥ ’•’∂÷Ñ ’¥’´’∂’π÷á ’°’æ’°÷Ä’ø’æ’´ ’®’∂’©’°÷Å’∏’≤’®

        // ’æ’•÷Ä÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ ’¥’•’Ø ÷Ñ’°’µ’¨ (’°’º’°’ª’´’Ø’°)
        slideQueue = Math.max(0, slideQueue - 1);
        const { dir, speed } = lastNav;

        if (dir === 'next') {
          swiperSlider.slideNext(speed);
        } else {
          swiperSlider.slidePrev(speed);
        }
        // ’∞’°’ª’∏÷Ä’§ ÷Ñ’°’µ’¨’® ’Ø’™’°’¥’°’∂’´ slideChangeTransitionEnd ’´÷Å ’∞’•’ø’∏ (’©’æ’°÷Ä’Ø’•’¨’∏’æ processQueue)
      }
      // ---------------------------
      // ’ç’ø’•’≤ ’°’¥’•’∂’°’æ’•÷Ä’ª’∏÷Ç’¥ ’¥’´’°÷Å’∂’•’¨ ’•’∂÷Ñ slideChangeTransitionStart/End ’∂’∏÷Ä’´÷Å,
      // ’∏÷Ä’∫’•’Ω’¶’´ ’£÷Ä’°’æ’•’∂÷Ñ ÷Å’°’∂’Ø’°÷Å’°’Æ ’ø’•’≤’´÷Å ’Ø’°’ø’°÷Ä’æ’°’Æ slide-’∂’•÷Ä’®
      // (’•’©’• ’∏÷Ç’¶’∏÷Ç’¥ ’•’Ω ’Ø’°÷Ä’∏’≤ ’ß’´÷Ä ’°’æ’•’¨’°÷Å’∂’•’¨ ’Ω’° ’æ’•÷Ä÷á’´ on ’ø’´÷Ä’∏÷Ç’µ’©’∏÷Ç’¥ ‚Äî ’°’º’Ø’° ’ß ’°’µ’∂’ø’•’≤ ’°÷Ä’§’•’∂)
      // ---------------------------
      swiperSlider.on('slideChangeTransitionStart', () => { isSliding = true; });
      swiperSlider.on('slideChangeTransitionEnd', () => { isSliding = false; });
      // ---------------------------
      // "–¢–µ–º–ø –Ω–∞–∂–∞—Ç–∏–π" ’¨’∏’£’´’Ø’°’∂ (nav ’°÷Ä’°’£ multiple slide ÷Ñ’°’∑÷Ñ’∑’∏÷Ç’Ø’∂’•÷Ä’´’∂)
      // ÷Ö’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥ ’ß –æ—á–µ—Ä–µ–¥—å’ù ’∏÷Ä’∫’•’Ω’¶’´ ’¥’•’Æ ÷Ñ’°’∂’°’Ø’´ ’°÷Ä’°’£ ’Ω’•’≤’¥’∏÷Ç’¥’∂’•÷Ä’® ’∞’°’ª’∏÷Ä’§’æ’•’∂ ’∞’•÷Ä’©’∏’æ
      // ---------------------------
      (function tempoNav() {
        const nextBtn = document.querySelector('.swiper-button-next');
        const prevBtn = document.querySelector('.swiper-button-prev');
        let clickTimes = [];
        const WINDOW_MS = 800;

        function recordAndDecide() {
          const now = Date.now();
          clickTimes = clickTimes.filter(t => now - t < WINDOW_MS);
          clickTimes.push(now);
          const clicks = clickTimes.length;
          if (clicks >= 5) return { slides: Math.min(4, clicks - 1), speed: 180 };
          if (clicks >= 3) return { slides: 2, speed: 260 };
          if (clicks === 2) return { slides: 1, speed: 340 };
          return { slides: 1, speed: 200 };
        }

        function navHandler(dir) {
          const { slides, speed } = recordAndDecide();

          // ‘µ’©’• ’∞’´’¥’° ’¥’´ transition ’ß ’®’∂’©’°÷Å÷Ñ’´ ’¥’•’ª’ù ’∞’•÷Ä’©’∏’æ ’Ø’∏÷Ç’ø’°’Ø’•’∂÷Ñ
          lastNav = { dir, speed };

          // queue++ ’∞’°’¥’°’∫’°’ø’°’Ω’≠’°’∂ slides ÷Ñ’°’∂’°’Ø’∏’æ
          slideQueue += slides;

          // ’°’∂’¥’´’ª’°’∫’•’Ω ÷É’∏÷Ä’±’•’∂÷Ñ processQueue ’°’∂’•’¨’ù ’•’©’• ’∞’∂’°÷Ä’°’æ’∏÷Ä ’ß
          processQueue();
        }
      })();
    });

  </script>
  <!-- <script>
    // ---------------------------
    // Global state
    // ---------------------------
    let isSliding = false;    // transition ongoing flag
    let slideQueue = 0;       // queued slide actions count
    let lastNav = null;       // last navigation params {dir, speed}

    // ---------------------------
    // Swiper init
    // ---------------------------
    const swiper = new Swiper('.swiper1', {
      slidesPerView: 1,
      spaceBetween: 10,
      centeredSlides: false,
      centeredSlidesBounds: true,
      slidesOffsetBefore: 0,
      slidesOffsetAfter: 0,
      loop: false,
      centerInsufficientSlides: true,
      speed: 500,
      simulateTouch: true,
      watchOverflow: true,
      freeMode: {
        enabled: false,
        momentum: false,
        momentumBounce: false,
        sticky: true,
      },
      mousewheel: {
        forceToAxis: true,
        sensitivity: 1,
        releaseOnEdges: true
      },
      navigation: {
        prevEl: '.swiper-button-prev',
        nextEl: '.swiper-button-next'
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true
      },
      breakpoints: {
        520: {
          slidesPerView: 2,
          spaceBetween: 20,
        },
        768: {
          slidesPerView: 3,
          spaceBetween: 20,
        },
      },
      on: {
        touchstart: () => {
          isTouching = true;
          swiper.params.freeMode.enabled = true;  // ‚úÖ –º—ã —Å–æ–µ–¥–∏–Ω—è–µ–º—Å—è
        },

        touchend: () => {
          isTouching = false;
          swiper.params.freeMode.enabled = false; // üîá –º—ã –≤—ã–∫–ª—é—á–∞–µ–º
        },

        wheel: (e) => {
          if (e.ctrlKey || Math.abs(e.deltaX) > 0) {
            swiper.params.freeMode.enabled = true;
            clearTimeout(swiper._freeModeTimeout);
            swiper._freeModeTimeout = setTimeout(() => {
              swiper.params.freeMode.enabled = false;
            }, 400); // 0.4 –ß–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É –≤—ã–∫–ª—é—á–∞–µ–º.
          }
        }
      }
    });

    let isTouching = false;

    // ---------------------------
    // Process queue ‚Äî –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É —Å–ª–∞–π–¥—É –∑–∞ —Ä–∞–∑
    // ---------------------------
    function processQueue() {
      if (!lastNav) return;
      if (slideQueue <= 0) return;
      if (isSliding) return; // –ñ–¥–µ–º –ø–æ–∫–∞ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è —Ç–µ–∫—É—â–∏–π.

      // –º—ã –¥–µ–ª–∞–µ–º –æ–¥–∏–Ω —à–∞–≥ (—Å–ª–µ–¥—É—é—â–∏–π)
      slideQueue = Math.max(0, slideQueue - 1);
      const { dir, speed } = lastNav;

      if (dir === 'next') {
        swiper.slideNext(speed);
      } else {
        swiper.slidePrev(speed);
      }
      // —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø–æ—Å–ª–µ slideChangeTransitionEnd (–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ processQueue)
    }


    // ---------------------------
    // "–¢–µ–º–ø –Ω–∞–∂–∞—Ç–∏–π" –ª–æ–≥–∏–∫–∞ (–±—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ª–∞–π–¥–æ–≤)
    // –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—á–µ—Ä–µ–¥—å, —á—Ç–æ–±—ã –∑–∞—Å—Ç–∞–≤–∏—Ç—å –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—ã—Å—Ç—Ä—ã—Ö —â–µ–ª—á–∫–æ–≤ —Å–ª–µ–¥–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º
    // ---------------------------
    (function tempoNav() {
      const prevBtn = document.querySelector('.swiper-button-prev');
      const nextBtn = document.querySelector('.swiper-button-next');
      let clickTimes = [];
      const WINDOW_MS = 800;

      function recordAndDecide() {
        const now = Date.now();
        clickTimes = clickTimes.filter(t => now - t < WINDOW_MS);
        clickTimes.push(now);
        const clicks = clickTimes.length;
        if (clicks >= 5) return { slides: Math.min(4, clicks - 1), speed: 180 };
        if (clicks >= 3) return { slides: 2, speed: 260 };
        if (clicks === 2) return { slides: 1, speed: 340 };
        return { slides: 1, speed: 200 };
      }

      function navHandler(dir) {
        const { slides, speed } = recordAndDecide();

        // –ï—Å–ª–∏ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ö–æ–¥, –¥–∞–≤–∞–π—Ç–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –∏—Ö –ø–æ –æ–¥–Ω–æ–º—É.
        lastNav = { dir, speed };

        // queue++ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ª–∞–π–¥–æ–≤
        slideQueue += slides;

        // –î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å Queue –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –µ—Å–ª–∏ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ.
        processQueue();
      }
    })();

  </script> -->

</body>

</html>